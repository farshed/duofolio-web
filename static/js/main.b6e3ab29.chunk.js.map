{"version":3,"sources":["reducers/location.js","reducers/settings.js","reducers/index.js","reducers/routes.js","reducers/book.js","store/index.js","actions/routes.js","actions/book.js","actions/location.js","actions/settings.js","components/buttons/OpenButton.js","pages/Home.js","assets/icons/contents.svg","assets/icons/search.svg","assets/icons/gear.svg","components/DrawerTab.js","components/ContentsItem.js","components/Search.js","components/Colors.js","components/Fonts.js","components/MiscSettings.js","components/Settings.js","components/Drawer.js","assets/icons/back.svg","components/buttons/BackButton.js","components/buttons/ContentsButton.js","components/Header.js","components/Dictionary.js","constants/index.js","assets/icons/next.svg","components/buttons/NextButton.js","assets/icons/prev.svg","components/buttons/PrevButton.js","utils/themeToStyles.js","pages/Reader.js","components/Router.js","App.js","index.js"],"names":["InitialState","bg","fg","font","size","height","sLang","tLang","combineReducers","routes","state","action","type","payload","book","location","key","cfi","settings","persistConfig","storage","blacklist","persistedReducer","persistReducer","reducers","store","createStore","persistor","persistStore","goToPage","page","selectBook","addLocation","updateSettings","connect","actions","props","Wrapper","onClick","e","stopPropagation","document","getElementById","click","Label","Input","id","accept","onChange","files","styled","div","p","input","Home","useEffect","script","createElement","src","async","body","appendChild","Monogram","href","target","rel","Link","Description","_extends","Object","assign","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","_ref3","_ref4","_ref","svgRef","title","viewBox","width","ref","ForwardRef","forwardRef","x","y","style","enableBackground","xmlSpace","DrawerItem","ItemWrapper","selected","tab","selectTab","TocIcon","SearchIcon","GearIcon","Toc","Search","Gear","ContentsItem","rendition","display","Text","label","trim","useState","setInput","results","setResults","onSubmit","preventDefault","Promise","all","spine","spineItems","map","item","load","bind","then","doc","find","unload","resolve","concat","placeholder","value","res","SearchItem","excerpt","colors","background","pickerVal","setPickerVal","Title","ColorsWrapper","color","Color","PickerWrapper","Picker","onBlur","fonts","Arial","Baskervville","Caslon","Lora","Raleway","Roboto","sizes","heights","Select","select","langs","language","lang","Settings","Modal","setAppElement","isOpen","isVisible","shouldCloseOnOverlayClick","portalClassName","className","modalClassName","overlayClassName","onRequestClose","setVisible","DrawerTab","contents","renderContent","attrs","foreground","BackIcon","fill","strokeWidth","Back","ContentsIcon","Contents","theme","sl","tl","text","selection","setSelection","on","manager","getContents","window","getSelection","toString","is","encodeURIComponent","NextIcon","next","stroke","Next","PrevIcon","prev","Prev","styles","li","h1","fgColor","r","g","b","match","slice","replace","Math","sqrt","lightOrDark","getState","dispatch","currentBook","locations","bookState","setBookState","setRendition","isContentDrawer","setContentDrawer","setContents","getFonts","content","el","setAttribute","file","FileReader","onload","bookData","Epub","encoding","rend","renderTo","themes","register","themeToStyles","setTimeout","forEach","loaded","navigation","nav","c","toc","addEventListener","start","bookInit","result","readAsArrayBuffer","ReaderView","currentPage","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.b6e3ab29.chunk.js","sourcesContent":["const InitialState = {};\n\nexport default function (state = InitialState, action) {\n\tswitch (action.type) {\n\t\tcase 'add_location':\n\t\t\tlet { key, cfi } = action.payload;\n\t\t\tstate[key] = cfi;\n\t\t\treturn { ...state };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","const InitialState = {\n\tbg: '#fafafa',\n\tfg: '#000000',\n\tfont: 'Default',\n\tsize: '100%',\n\theight: 'normal',\n\tsLang: '',\n\ttLang: ''\n};\n\nexport default function (state = InitialState, action) {\n\tswitch (action.type) {\n\t\tcase 'modify_settings':\n\t\t\treturn { ...state, ...action.payload };\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import { combineReducers } from 'redux';\nimport routes from './routes';\nimport book from './book';\nimport location from './location';\nimport settings from './settings';\n\nexport default combineReducers({\n\troutes,\n\tbook,\n\tlocation,\n\tsettings\n});\n","const InitialState = 'home';\n\nexport default function (state = InitialState, action) {\n\tswitch (action.type) {\n\t\tcase 'navigate':\n\t\t\treturn action.payload;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","const InitialState = null;\n\nexport default function (state = InitialState, action) {\n\tswitch (action.type) {\n\t\tcase 'select_book':\n\t\t\treturn action.payload;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import { createStore } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport reducers from '../reducers';\n\nconst persistConfig = {\n\tkey: 'root',\n\tstorage,\n\tblacklist: ['routes', 'book']\n};\n\nconst persistedReducer = persistReducer(persistConfig, reducers);\n\nexport const store = createStore(persistedReducer);\nexport const persistor = persistStore(store);\n","export const goToPage = (page) => {\n\treturn { type: 'navigate', payload: page };\n};\n","export const selectBook = (book) => {\n\treturn { type: 'select_book', payload: book };\n};\n","export const addLocation = (payload) => {\n\treturn { type: 'add_location', payload };\n};\n","export const updateSettings = (payload) => {\n\treturn { type: 'modify_settings', payload };\n};\n","import React from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\n\nfunction OpenButton(props) {\n\tfunction onButtonClick(e) {\n\t\te.stopPropagation();\n\t\tdocument.getElementById('addBooks').click();\n\t}\n\n\tfunction handleBooks() {\n\t\tlet book = document.getElementById('addBooks').files;\n\t\tif (book[0]) {\n\t\t\tprops.selectBook(book[0]);\n\t\t\tprops.goToPage('reader');\n\t\t}\n\t}\n\n\treturn (\n\t\t<Wrapper onClick={onButtonClick}>\n\t\t\t<Label>Open a book</Label>\n\t\t\t<Input id=\"addBooks\" type=\"file\" accept=\"application/epub+zip\" onChange={handleBooks} />\n\t\t</Wrapper>\n\t);\n}\n\nexport default connect(null, actions)(OpenButton);\n\nconst Wrapper = styled.div`\n\theight: 2.7em;\n\twidth: 8em;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground-color: #0f2439;\n\tborder-radius: 0.35em;\n\tbox-shadow: 2px 3px 5px rgba(0, 0, 0, 0.25);\n\tcursor: pointer;\n`;\n\nconst Label = styled.p`\n\tfont-size: 1em;\n\tfont-family: Roboto;\n\tcolor: #fafafa;\n\tuser-select: none;\n`;\n\nconst Input = styled.input`\n\tdisplay: none;\n`;\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport OpenButton from '../components/buttons/OpenButton';\n\nfunction Home() {\n\tuseEffect(() => {\n\t\tconst script = document.createElement('script');\n\t\tscript.src = 'https://unpkg.com/x-frame-bypass';\n\t\tscript.async = true;\n\t\tdocument.body.appendChild(script);\n\t}, []);\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Monogram>Duofolio</Monogram>\n\t\t\t<a\n\t\t\t\thref=\"https://www.github.com/farshed/duofolio\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noopener noreferrer\">\n\t\t\t\t<Link>Github</Link>\n\t\t\t</a>\n\t\t\t<Description>Duofolio helps you read books in other languages</Description>\n\t\t\t<OpenButton />\n\t\t</Wrapper>\n\t);\n}\n\nexport default Home;\n\nconst Wrapper = styled.div`\n\theight: 100vh;\n\twidth: 100vw;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\tmargin: 0px;\n\tbackground-color: #fafafa;\n`;\n\nconst Monogram = styled.p`\n\tfont-size: 3.5em;\n\tfont-family: Pacifico;\n\tcolor: #0f2439;\n\tuser-select: none;\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 0.5em;\n`;\n\nconst Description = styled.p`\n\tfont-size: 1.35em;\n\tfont-family: Poppins;\n\tcolor: #0f2439;\n\tpadding: 1em;\n\tpadding-bottom: 2.5em;\n\ttext-align: center;\n\tz-index: 3;\n`;\n\nconst Link = styled.p`\n\tfont-size: 1em;\n\tfont-family: Poppins;\n\tcolor: #0f2439;\n\tuser-select: none;\n\tposition: absolute;\n\tbottom: 1em;\n\tright: 1.5em;\n\tcursor: pointer;\n`;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m368 154.667969h-352c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h352c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m368 32h-352c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h352c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m368 277.332031h-352c-8.832031 0-16-7.167969-16-16s7.167969-16 16-16h352c8.832031 0 16 7.167969 16 16s-7.167969 16-16 16zm0 0\"\n});\n\nvar SvgContents = function SvgContents(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: \"384pt\",\n    viewBox: \"0 -53 384 384\",\n    width: \"384pt\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgContents, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/contents.a450cc10.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M473.418,449.285L303.28,279.148c59.759-73.087,48.954-180.779-24.132-240.538S98.369-10.344,38.61,62.742 S-10.344,243.521,62.742,303.28c62.953,51.473,153.453,51.473,216.406,0l170.138,170.138c6.78,6.548,17.584,6.36,24.132-0.42 C479.805,466.384,479.805,455.899,473.418,449.285z M171.218,307.751c-75.37-0.085-136.449-61.163-136.533-136.533 c0-75.405,61.128-136.533,136.533-136.533s136.533,61.128,136.533,136.533S246.623,307.751,171.218,307.751z\"\n}));\n\nvar SvgSearch = function SvgSearch(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 478.208 478.208\",\n    style: {\n      enableBackground: \"new 0 0 478.208 478.208\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSearch, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/search.ece24251.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M460.8,170.667h-28.894c-2.387-6.786-5.133-13.44-8.226-19.934l20.48-20.48c6.663-6.664,6.663-17.468,0-24.132 l-72.482-72.346c-6.665-6.663-17.468-6.663-24.132,0l-20.48,20.48c-6.473-3.108-13.104-5.877-19.866-8.294V17.067 C307.2,7.641,299.559,0,290.133,0h-102.4c-9.426,0-17.067,7.641-17.067,17.067v28.894c-6.789,2.392-13.449,5.138-19.951,8.226 l-20.48-20.48c-6.665-6.662-17.468-6.662-24.132,0l-72.329,72.482c-6.663,6.664-6.663,17.468,0,24.132l20.48,20.48 c-3.115,6.47-5.883,13.102-8.294,19.866H17.067C7.641,170.667,0,178.308,0,187.733v102.4c0,9.426,7.641,17.067,17.067,17.067 h28.894c2.387,6.786,5.132,13.44,8.226,19.934l-20.48,20.48c-6.662,6.665-6.662,17.468,0,24.132l72.414,72.414 c6.665,6.662,17.468,6.662,24.132,0l20.48-20.48c6.497,3.087,13.151,5.833,19.934,8.226V460.8c0,9.426,7.641,17.067,17.067,17.067 h102.4c9.426,0,17.067-7.641,17.067-17.067v-28.894c6.789-2.392,13.449-5.138,19.951-8.226l20.48,20.48 c6.665,6.662,17.468,6.662,24.132,0l72.414-72.414c6.662-6.664,6.662-17.468,0-24.132l-20.48-20.48 c3.088-6.494,5.828-13.148,8.209-19.934H460.8c9.426,0,17.067-7.641,17.067-17.067v-102.4 C477.867,178.308,470.226,170.667,460.8,170.667z M443.733,273.067h-24.32c-7.631,0-14.335,5.066-16.418,12.407 c-3.584,12.744-8.647,25.024-15.087,36.591c-3.769,6.687-2.609,15.067,2.833,20.48l17.067,17.152l-48.196,48.196l-17.152-17.067 c-5.413-5.442-13.793-6.602-20.48-2.833c-11.563,6.434-23.838,11.497-36.574,15.087c-7.348,2.077-12.422,8.782-12.425,16.418 v24.235H204.8v-24.32c-0.002-7.636-5.076-14.341-12.425-16.418c-12.736-3.59-25.01-8.653-36.574-15.087 c-6.687-3.769-15.067-2.609-20.48,2.833l-17.067,17.067l-48.282-48.196L87.04,342.46c5.442-5.413,6.602-13.793,2.833-20.48 c-6.44-11.566-11.503-23.847-15.087-36.591c-2.106-7.277-8.757-12.295-16.333-12.322h-24.32V204.8h24.32 c7.631,0,14.335-5.066,16.418-12.407c3.584-12.744,8.647-25.024,15.087-36.591c3.769-6.687,2.609-15.067-2.833-20.48 l-17.067-17.067l48.196-48.282l17.067,17.067c5.413,5.442,13.793,6.602,20.48,2.833c11.563-6.434,23.838-11.497,36.574-15.087 c7.318-2.068,12.384-8.729,12.425-16.333v-24.32h68.267v24.32c0.002,7.636,5.076,14.341,12.425,16.418 c12.736,3.59,25.01,8.653,36.574,15.087c6.687,3.769,15.067,2.609,20.48-2.833l17.152-17.067l48.196,48.196l-17.067,17.067 c-5.442,5.413-6.602,13.793-2.833,20.48c6.44,11.566,11.503,23.847,15.087,36.591c2.083,7.341,8.787,12.407,16.418,12.407h24.235 V273.067z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M238.933,119.467c-65.98,0-119.467,53.487-119.467,119.467S172.954,358.4,238.933,358.4S358.4,304.913,358.4,238.933 C358.325,172.985,304.882,119.542,238.933,119.467z M238.933,324.267c-47.128,0-85.333-38.205-85.333-85.333 s38.205-85.333,85.333-85.333s85.333,38.205,85.333,85.333C324.21,286.038,286.038,324.21,238.933,324.267z\"\n})));\n\nvar SvgGear = function SvgGear(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 477.867 477.867\",\n    style: {\n      enableBackground: \"new 0 0 477.867 477.867\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGear, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/gear.c0bf2378.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from 'styled-components';\nimport { ReactComponent as Toc } from '../assets/icons/contents.svg';\nimport { ReactComponent as Search } from '../assets/icons/search.svg';\nimport { ReactComponent as Gear } from '../assets/icons/gear.svg';\n\nfunction DrawerItem(props) {\n\treturn (\n\t\t<Wrapper>\n\t\t\t<ItemWrapper selected={props.tab === 'toc'} onClick={() => props.selectTab('toc')}>\n\t\t\t\t<TocIcon />\n\t\t\t</ItemWrapper>\n\t\t\t<ItemWrapper selected={props.tab === 'search'} onClick={() => props.selectTab('search')}>\n\t\t\t\t<SearchIcon />\n\t\t\t</ItemWrapper>\n\t\t\t<ItemWrapper\n\t\t\t\tselected={props.tab === 'settings'}\n\t\t\t\tonClick={() => props.selectTab('settings')}>\n\t\t\t\t<GearIcon />\n\t\t\t</ItemWrapper>\n\t\t</Wrapper>\n\t);\n}\n\nexport default DrawerItem;\n\nconst Wrapper = styled.div`\n\tposition: fixed;\n\ttop: 0px;\n\tright: 0x;\n\theight: 3em;\n\twidth: 90%;\n\tmax-width: 300px;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n\tbox-shadow: 2px 3px 5px rgba(0, 0, 0, 0.25);\n\tbackground-color: #fafafa;\n`;\n\nconst ItemWrapper = styled.div`\n\theight: 100%;\n\twidth: 33%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tborder-bottom: ${(props) => (props.selected ? ' 2px solid #23286b' : 'none')};\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\t}\n`;\n\nconst TocIcon = styled(Toc)`\n\theight: 1em;\n\twidth: 1em;\n`;\n\nconst SearchIcon = styled(Search)`\n\theight: 1em;\n\twidth: 1em;\n`;\n\nconst GearIcon = styled(Gear)`\n\theight: 1em;\n\twidth: 1em;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\n\nfunction ContentsItem(props) {\n\tfunction onClick() {\n\t\tprops.rendition.display(props.href);\n\t}\n\n\treturn (\n\t\t<Wrapper onClick={onClick}>\n\t\t\t<Text>{props.label.trim()}</Text>\n\t\t</Wrapper>\n\t);\n}\n\nexport default ContentsItem;\n\nconst Wrapper = styled.div`\n\theight: 1.2em;\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: flex-start;\n\talign-items: center;\n\tpadding: 0.5em;\n\tcursor: pointer;\n\t&:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.07);\n\t}\n`;\n\nconst Text = styled.p`\n\tfont-size: 0.9em;\n\tfont-family: Roboto;\n\tcolor: #000000;\n`;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\n\nfunction Search(props) {\n\tconst [input, setInput] = useState('');\n\tconst [results, setResults] = useState([]);\n\n\tfunction searchBook(e) {\n\t\te.preventDefault();\n\t\treturn Promise.all(\n\t\t\tprops.book.spine.spineItems.map((item) => {\n\t\t\t\treturn item.load(props.book.load.bind(props.book)).then((doc) => {\n\t\t\t\t\tlet results = item.find(input.trim());\n\t\t\t\t\titem.unload();\n\t\t\t\t\treturn Promise.resolve(results);\n\t\t\t\t});\n\t\t\t})\n\t\t).then((results) => setResults([].concat.apply([], results)));\n\t}\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<form onSubmit={searchBook}>\n\t\t\t\t<Input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Search book...\"\n\t\t\t\t\tvalue={input}\n\t\t\t\t\tonChange={(e) => setInput(e.target.value)}\n\t\t\t\t/>\n\t\t\t</form>\n\t\t\t{results.length !== 0 && <Text>{`Found ${results.length} matches`}</Text>}\n\t\t\t{results.length !== 0 &&\n\t\t\t\tresults.map((res, i) => (\n\t\t\t\t\t<SearchItem onClick={() => props.rendition.display(res.cfi)} key={i}>\n\t\t\t\t\t\t{res.excerpt.trim()}\n\t\t\t\t\t</SearchItem>\n\t\t\t\t))}\n\t\t</Wrapper>\n\t);\n}\n\nexport default Search;\n\nconst Wrapper = styled.div`\n\twidth: 100%;\n\theight: 100%;\n\tpadding-top: 1em;\n`;\n\nconst Input = styled.input`\n\theight: 2em;\n\twidth: calc(100% - 3em);\n\tmargin-right: 1em;\n\tmargin-left: 1em;\n\tpadding-right: 0.5em;\n\tpadding-left: 0.5em;\n\tborder: 1px solid rgba(0, 0, 0, 0.25);\n\tborder-radius: 5px;\n\t&:focus {\n\t\toutline: none;\n\t}\n`;\n\nconst Text = styled.p`\n\tfont-size: 0.9em;\n\tmargin: 1em 0 1em 1em;\n\tfont-family: Roboto;\n`;\n\nconst SearchItem = styled.div`\n\twidth: calc(100% - 3em);\n\tmargin: 1em;\n\tpadding: 0.5em;\n\tborder-radius: 4px;\n\tfont-size: 0.8em;\n\tborder: 1px solid rgba(0, 0, 0, 0.25);\n\twhite-space: pre-wrap;\n\tcursor: pointer;\n`;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nconst colors = ['#fafafa', '#f8f1e3', '#bebebe', '#5a5a5c', '#121212'];\n\nfunction Colors(props) {\n\tconst [pickerVal, setPickerVal] = useState(props.background);\n\n\tfunction handleColor(e) {\n\t\te.stopPropagation();\n\t\tlet color = document.getElementById('picker').value;\n\t\tsetPickerVal(color);\n\t}\n\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Title>Background Color</Title>\n\t\t\t<ColorsWrapper>\n\t\t\t\t{colors.map((color, i) => (\n\t\t\t\t\t<Color\n\t\t\t\t\t\tselected={props.background === color}\n\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\tonClick={() => props.updateSettings({ bg: color })}\n\t\t\t\t\t\tkey={i}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ColorsWrapper>\n\t\t\t<PickerWrapper>\n\t\t\t\t<Text>Choose a custom background</Text>\n\t\t\t\t<Picker\n\t\t\t\t\tid=\"picker\"\n\t\t\t\t\ttype=\"color\"\n\t\t\t\t\tvalue={pickerVal}\n\t\t\t\t\tonChange={handleColor}\n\t\t\t\t\tonBlur={() => props.updateSettings({ bg: pickerVal })}\n\t\t\t\t/>\n\t\t\t</PickerWrapper>\n\t\t</Wrapper>\n\t);\n}\n\nfunction mapStateToProps(state) {\n\treturn { background: state.settings.bg };\n}\n\nexport default connect(mapStateToProps, actions)(Colors);\n\nconst Wrapper = styled.div`\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-evenly;\n\talign-items: flex-start;\n`;\n\nconst Color = styled.div`\n\theight: 2em;\n\twidth: 2em;\n\tborder-radius: 2em;\n\tbackground-color: ${(props) => props.color};\n\tborder: ${(props) => (props.selected ? '2px solid #23286b' : '1px solid rgba(0, 0, 0, 0.25)')};\n`;\n\nconst ColorsWrapper = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-evenly;\n\talign-items: center;\n`;\n\nconst Title = styled.p`\n\tfont-size: 1em;\n\tcolor: black;\n\tfont-family: Roboto;\n\tfont-weight: bold;\n\tmargin-left: 1em;\n`;\n\nconst Text = styled.p`\n\tfont-size: 0.9em;\n\tcolor: black;\n\tfont-family: Roboto;\n\tmargin-left: 1em;\n\tmargin-right: 1em;\n`;\n\nconst PickerWrapper = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n`;\n\nconst Picker = styled.input`\n\theight: 1em;\n\twidth: 2em;\n\tmargin-right: 1em;\n\tbackground-color: ${(props) => props.background};\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nconst fonts = {\n\tArial: 'Arial',\n\tBaskervville: \"'Baskervville', serif\",\n\tCaslon: \"'Libre Caslon Text', serif\",\n\tLora: \"'Lora', serif\",\n\tRaleway: \"'Raleway', sans-serif\",\n\tRoboto: \"'Roboto', sans-serif\",\n\t'Special Elite': \"'Special Elite'\"\n};\nconst sizes = ['12', '13', '14', '15', '16', '17', '18', '19', '20'];\nconst heights = [1.4, 1.6, 1.8, 2.0, 2.2, 2.4];\n\nfunction Fonts(props) {\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Title>Font</Title>\n\t\t\t<ItemWrapper>\n\t\t\t\t<Text>Font Family</Text>\n\t\t\t\t<Select\n\t\t\t\t\tvalue={props.font}\n\t\t\t\t\tonChange={(e) => props.updateSettings({ font: e.target.value })}>\n\t\t\t\t\t{Object.keys(fonts).map((font, i) => (\n\t\t\t\t\t\t<option value={fonts[font]} key={i}>\n\t\t\t\t\t\t\t{font}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</ItemWrapper>\n\t\t\t<ItemWrapper>\n\t\t\t\t<Text>Font Size</Text>\n\t\t\t\t<Select\n\t\t\t\t\tvalue={props.size}\n\t\t\t\t\tonChange={(e) => props.updateSettings({ size: e.target.value })}>\n\t\t\t\t\t{sizes.map((size, i) => (\n\t\t\t\t\t\t<option value={`${size}px`} key={i}>\n\t\t\t\t\t\t\t{size}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</ItemWrapper>\n\t\t\t<ItemWrapper>\n\t\t\t\t<Text>Line Height</Text>\n\t\t\t\t<Select\n\t\t\t\t\tvalue={props.height}\n\t\t\t\t\tonChange={(e) => props.updateSettings({ height: e.target.value })}>\n\t\t\t\t\t{heights.map((height, i) => (\n\t\t\t\t\t\t<option value={height} key={i}>\n\t\t\t\t\t\t\t{height}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</ItemWrapper>\n\t\t</Wrapper>\n\t);\n}\n\nfunction mapStateToProps({ settings }) {\n\treturn {\n\t\tfont: settings.font,\n\t\tsize: settings.size,\n\t\theight: settings.height\n\t};\n}\n\nexport default connect(mapStateToProps, actions)(Fonts);\n\nconst Wrapper = styled.div`\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-evenly;\n\talign-items: flex-start;\n`;\n\nconst ItemWrapper = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n`;\n\nconst Title = styled.p`\n\tfont-size: 1em;\n\tcolor: black;\n\tfont-family: Roboto;\n\tfont-weight: bold;\n\tmargin-left: 1em;\n`;\n\nconst Text = styled.p`\n\tfont-size: 0.9em;\n\tcolor: black;\n\tfont-family: Roboto;\n\tmargin-left: 1em;\n\tmargin-right: 1em;\n`;\n\nconst Select = styled.select`\n\tmargin-right: 1em;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nconst langs = ['French', 'Spanish'];\n\nfunction MiscSettings(props) {\n\treturn (\n\t\t<Wrapper>\n\t\t\t<ItemWrapper>\n\t\t\t\t<Text>Choose language</Text>\n\t\t\t\t<Select\n\t\t\t\t\tvalue={props.language}\n\t\t\t\t\tonChange={(e) => props.updateSettings({ language: e.target.value })}>\n\t\t\t\t\t{langs.map((lang, i) => (\n\t\t\t\t\t\t<option value={lang} key={i}>\n\t\t\t\t\t\t\t{lang}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</ItemWrapper>\n\t\t</Wrapper>\n\t);\n}\n\nfunction mapStateToProps(state) {\n\treturn { language: state.settings.language };\n}\n\nexport default connect(mapStateToProps, actions)(MiscSettings);\n\nconst Wrapper = styled.div`\n\theight: 100%;\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-evenly;\n\talign-items: flex-start;\n`;\n\nconst ItemWrapper = styled.div`\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: center;\n`;\n\nconst Text = styled.p`\n\tfont-size: 0.9em;\n\tcolor: black;\n\tfont-family: Roboto;\n\tmargin-left: 1em;\n\tmargin-right: 1em;\n`;\n\nconst Select = styled.select`\n\tmargin-right: 1em;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Colors from './Colors';\nimport Fonts from './Fonts';\nimport MiscSettings from './MiscSettings';\n\nfunction Settings() {\n\treturn (\n\t\t<Wrapper>\n\t\t\t<ItemWrapper>\n\t\t\t\t<Colors />\n\t\t\t</ItemWrapper>\n\t\t\t<ItemWrapper>\n\t\t\t\t<Fonts />\n\t\t\t</ItemWrapper>\n\t\t\t<ItemWrapper>\n\t\t\t\t<MiscSettings />\n\t\t\t</ItemWrapper>\n\t\t</Wrapper>\n\t);\n}\n\nexport default Settings;\n\nconst Wrapper = styled.div`\n\twidth: 100%;\n`;\n\nconst ItemWrapper = styled.div`\n\theight: 10em;\n\tborder-bottom: 1px solid rgba(0, 0, 0, 0.25);\n`;\n","import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport Modal from 'react-modal';\nimport DrawerTab from './DrawerTab';\nimport ContentsItem from './ContentsItem';\nimport Search from './Search';\nimport Settings from './Settings';\n\nfunction Drawer(props) {\n\tModal.setAppElement('#modal');\n\tconst [tab, selectTab] = useState('toc');\n\n\tfunction renderContent() {\n\t\tswitch (tab) {\n\t\t\tcase 'toc':\n\t\t\t\treturn (\n\t\t\t\t\tprops.contents &&\n\t\t\t\t\tprops.contents.map((item, i) => (\n\t\t\t\t\t\t<ContentsItem {...item} rendition={props.rendition} key={i} />\n\t\t\t\t\t))\n\t\t\t\t);\n\t\t\tcase 'search':\n\t\t\t\treturn <Search book={props.book} rendition={props.rendition} />;\n\t\t\tcase 'settings':\n\t\t\t\treturn <Settings />;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\treturn (\n\t\t<div onClick={(e) => e.stopPropagation()}>\n\t\t\t<Modal\n\t\t\t\tisOpen={props.isVisible}\n\t\t\t\tshouldCloseOnOverlayClick\n\t\t\t\tportalClassName={props.className}\n\t\t\t\tclassName={props.modalClassName}\n\t\t\t\toverlayClassName={props.overlayClassName}\n\t\t\t\tonRequestClose={(e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tprops.setVisible(false);\n\t\t\t\t}}>\n\t\t\t\t<DrawerTab tab={tab} selectTab={selectTab} />\n\t\t\t\t{renderContent()}\n\t\t\t</Modal>\n\t\t</div>\n\t);\n}\n\nexport default styled(Drawer).attrs({\n\toverlayClassName: 'Overlay',\n\tmodalClassName: 'Modal'\n})`\n\t.Overlay {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: rgba(0, 0, 0, 0.2);\n\t}\n\t.Modal {\n\t\twidth: 90%;\n\t\tmax-width: 300px;\n\t\tposition: absolute;\n\t\ttop: 0px;\n\t\tbottom: 0px;\n\t\tright: 0px;\n\t\tbackground-color: #fafafa;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t\tz-index: 12;\n\t\tpadding-top: 3.5em;\n\t\tpadding-bottom: 1em;\n\t\twhite-space: nowrap;\n\t\toverflow-y: auto;\n\t\toverflow-x: hidden;\n\t\ttext-overflow: ellipsis;\n\t\t&:focus {\n\t\t\toutline: none;\n\t\t}\n\t}\n`;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.273,5.009c0.444-0.444,1.143-0.444,1.587,0c0.429,0.429,0.429,1.143,0,1.571l-8.047,8.047h26.554 c0.619,0,1.127,0.492,1.127,1.111c0,0.619-0.508,1.127-1.127,1.127H3.813l8.047,8.032c0.429,0.444,0.429,1.159,0,1.587 c-0.444,0.444-1.143,0.444-1.587,0l-9.952-9.952c-0.429-0.429-0.429-1.143,0-1.571L10.273,5.009z\"\n});\n\nvar SvgBack = function SvgBack(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 31.494 31.494\",\n    style: {\n      enableBackground: \"new 0 0 31.494 31.494\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBack, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/back.696942b2.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions';\nimport { ReactComponent as Back } from '../../assets/icons/back.svg';\n\nfunction BackButton(props) {\n\tfunction goBack(e) {\n\t\te.preventDefault();\n\t\tprops.goToPage('home');\n\t}\n\n\treturn <BackIcon onClick={goBack} fill={props.foreground} strokeWidth={18} />;\n}\n\nfunction mapStateToProps(state) {\n\treturn { foreground: state.settings.fg };\n}\n\nexport default connect(mapStateToProps, actions)(BackButton);\n\nconst BackIcon = styled(Back)`\n\theight: 1em;\n\twidth: 1em;\n\tposition: absolute;\n\ttop: 0.8em;\n\tleft: 0.8em;\n\tcursor: pointer;\n\tz-index: 10;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { ReactComponent as Contents } from '../../assets/icons/contents.svg';\n\nfunction ContentsButton(props) {\n\tfunction onClick(e) {\n\t\te.preventDefault();\n\t\tprops.setVisible(!props.isVisible);\n\t}\n\n\treturn <ContentsIcon onClick={onClick} fill={props.foreground} />;\n}\n\nfunction mapStateToProps(state) {\n\treturn { foreground: state.settings.fg };\n}\n\nexport default connect(mapStateToProps, null)(ContentsButton);\n\nconst ContentsIcon = styled(Contents)`\n\theight: 1em;\n\twidth: 1em;\n\tpadding: 0.2em;\n\tposition: absolute;\n\ttop: 0.8em;\n\tright: 0.8em;\n\tcursor: pointer;\n\tz-index: 10;\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport BackButton from './buttons/BackButton';\nimport ContentsButton from './buttons/ContentsButton';\n\nfunction Header(props) {\n\treturn (\n\t\t<Wrapper bg={props.bg}>\n\t\t\t<BackButton />\n\t\t\t<ContentsButton isVisible={props.isVisible} setVisible={props.setVisible} />\n\t\t</Wrapper>\n\t);\n}\n\nfunction mapStateToProps(state) {\n\treturn { bg: state.settings.bg };\n}\n\nexport default connect(mapStateToProps, null)(Header);\n\nconst Wrapper = styled.div`\n\tmin-height: 3%;\n\twidth: 100%;\n\tflex-direction: row;\n\talign-items: center;\n\tbackground-color: ${(props) => props.theme.bg};\n`;\n","// import React, { useState, useEffect } from 'react';\n// import styled from 'styled-components';\n// import { connect } from 'react-redux';\n// import Modal from 'react-modal';\n// import fra from '../assets/dicts/fra-en';\n// import es from '../assets/dicts/es-en';\n\n// function Dictionary(props) {\n// \tModal.setAppElement('#modal');\n// \tconst [isVisible, setVisible] = useState(false);\n// \tconst [selection, setSelection] = useState('');\n\n// \tuseEffect(() => {\n// \t\tif (props.rendition) {\n// \t\t\tprops.rendition.on('selected', () => {\n// \t\t\t\tlet selected =\n// \t\t\t\t\tprops.rendition.manager && props.rendition.manager.getContents().length > 0\n// \t\t\t\t\t\t? props.rendition.manager.getContents()[0].window.getSelection().toString().trim()\n// \t\t\t\t\t\t: '';\n// \t\t\t\tif (selected) {\n// \t\t\t\t\tsetSelection(selected);\n// \t\t\t\t\tsetVisible(true);\n// \t\t\t\t}\n// \t\t\t});\n// \t\t}\n// \t}, [props.rendition]);\n\n// \tfunction searchDict(q) {\n// \t\tq = ` ${q.toLowerCase()} `;\n// \t\tlet dict;\n// \t\tswitch (props.language) {\n// \t\t\tcase 'French':\n// \t\t\t\tdict = fra;\n// \t\t\t\tbreak;\n// \t\t\tcase 'Spanish':\n// \t\t\t\tdict = es;\n// \t\t\t\tbreak;\n// \t\t\tdefault:\n// \t\t\t\tdict = es;\n// \t\t\t\tbreak;\n// \t\t}\n// \t\treturn dict\n// \t\t\t.filter((word) => {\n// \t\t\t\tword = ` ${word[0].split('[')[0].toLowerCase()} `;\n// \t\t\t\treturn word.indexOf(q) > -1;\n// \t\t\t})\n// \t\t\t.sort((a, b) => a[0].length - b[0].length);\n// \t}\n\n// \tfunction renderResult() {\n// \t\tif (isVisible) {\n// \t\t\tlet results = searchDict(selection);\n// \t\t\tif (results.length > 0) {\n// \t\t\t\treturn results.map((res, i) => (\n// \t\t\t\t\t<Wrapper key={i}>\n// \t\t\t\t\t\t<Word>{res[0]}</Word>\n// \t\t\t\t\t\t<Role>{res[2]}</Role>\n// \t\t\t\t\t\t<Meaning>{res[1]}</Meaning>\n// \t\t\t\t\t</Wrapper>\n// \t\t\t\t));\n// \t\t\t}\n// \t\t\treturn <Message>No results were found!</Message>;\n// \t\t}\n// \t}\n\n// \treturn (\n// \t\t<div onClick={(e) => e.stopPropagation()}>\n// \t\t\t<Modal\n// \t\t\t\tisOpen={isVisible}\n// \t\t\t\tshouldCloseOnOverlayClick\n// \t\t\t\tportalClassName={props.className}\n// \t\t\t\tclassName={props.modalClassName}\n// \t\t\t\toverlayClassName={props.overlayClassName}\n// \t\t\t\tonRequestClose={(e) => {\n// \t\t\t\t\te.stopPropagation();\n// \t\t\t\t\tsetVisible(false);\n// \t\t\t\t\tsetSelection('');\n// \t\t\t\t}}>\n// \t\t\t\t{renderResult()}\n// \t\t\t</Modal>\n// \t\t</div>\n// \t);\n// }\n\n// function mapStateToProps(state) {\n// \treturn { language: state.settings.language };\n// }\n\n// export default styled(connect(mapStateToProps, null)(Dictionary)).attrs({\n// \toverlayClassName: 'Overlay',\n// \tmodalClassName: 'Modal'\n// })`\n// \t.Overlay {\n// \t\tposition: absolute;\n// \t\ttop: 0;\n// \t\tleft: 0;\n// \t\tright: 0;\n// \t\tbottom: 0;\n// \t\tbackground-color: rgba(0, 0, 0, 0.2);\n// \t\tdisplay: flex;\n// \t\tflex-direction: column;\n// \t\tjustify-content: flex-end;\n// \t\talign-items: center;\n// \t}\n// \t.Modal {\n// \t\twidth: 100%;\n// \t\tmax-width: 500px;\n// \t\theight: 45%;\n// \t\tposition: absolute;\n// \t\tbottom: 0px;\n// \t\tbackground-color: #fafafa;\n// \t\tdisplay: flex;\n// \t\tflex-direction: column;\n// \t\talign-items: flex-start;\n// \t\tz-index: 12;\n// \t\twhite-space: nowrap;\n// \t\toverflow-y: auto;\n// \t\toverflow-x: hidden;\n// \t\ttext-overflow: ellipsis;\n// \t\tborder-top-right-radius: 8px;\n// \t\tborder-top-left-radius: 8px;\n// \t\tpadding-top: 0.5em;\n// \t\tpadding-bottom: 0.5em;\n// \t\t&:focus {\n// \t\t\toutline: none;\n// \t\t}\n// \t}\n// `;\n\n// const Wrapper = styled.div`\n// \twidth: 100%;\n// \tmin-height: 4em;\n// \tdisplay: flex;\n// \tflex-direction: column;\n// \tjustify-content: space-between;\n// \talign-items: flex-start;\n// \tpadding: 1em;\n// \tborder-bottom: 1px solid rgba(0, 0, 0, 0.25);\n// `;\n\n// const Word = styled.p`\n// \tfont-family: Roboto;\n// \tfont-weight: bold;\n// \tfont-size: 1.2em;\n// \tcolor: #23286b;\n// \tmargin-bottom: 7px;\n// `;\n\n// const Meaning = styled.p`\n// \tfont-family: Roboto;\n// \tfont-size: 1em;\n// \tcolor: #0f2439;\n// \tmargin-top: 0.5em;\n// `;\n\n// const Role = styled.p`\n// \tfont-family: Roboto;\n// \tfont-style: italic;\n// \tfont-size: 0.75em;\n// \tcolor: #0f2439;\n// `;\n\n// const Message = styled.p`\n// \tfont-family: Roboto;\n// \tfont-size: 1.25em;\n// \tcolor: #0f2439;\n// \twidth: 100%;\n// \ttext-align: center;\n// \tpadding: 1em;\n// `;\n\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport Modal from 'react-modal';\nimport { translateUrl } from '../constants';\n\nfunction Dictionary(props) {\n\tModal.setAppElement('#modal');\n\tconst [isVisible, setVisible] = useState(false);\n\tconst [selection, setSelection] = useState('');\n\n\t// useEffect(() => {\n\t// \tnew google.translate.TranslateElement(\n\t// \t\t{\n\t// \t\t\tpageLanguage: 'fr'\n\t// \t\t},\n\t// \t\t'google_translate_element'\n\t// \t);\n\t// }, []);\n\n\tuseEffect(() => {\n\t\tif (props.rendition) {\n\t\t\tprops.rendition.on('selected', () => {\n\t\t\t\tlet selected =\n\t\t\t\t\tprops.rendition.manager && props.rendition.manager.getContents().length > 0\n\t\t\t\t\t\t? props.rendition.manager.getContents()[0].window.getSelection().toString().trim()\n\t\t\t\t\t\t: '';\n\t\t\t\tif (selected) {\n\t\t\t\t\tsetSelection(selected);\n\t\t\t\t\tsetVisible(true);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, [props.rendition]);\n\n\treturn (\n\t\t<div onClick={(e) => e.stopPropagation()}>\n\t\t\t<Modal\n\t\t\t\tisOpen={isVisible}\n\t\t\t\tshouldCloseOnOverlayClick\n\t\t\t\tportalClassName={props.className}\n\t\t\t\tclassName={props.modalClassName}\n\t\t\t\toverlayClassName={props.overlayClassName}\n\t\t\t\tonRequestClose={(e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\tsetVisible(false);\n\t\t\t\t\tsetSelection('');\n\t\t\t\t}}>\n\t\t\t\t<iframe\n\t\t\t\t\tis=\"x-frame-bypass\"\n\t\t\t\t\theight=\"100%\"\n\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\tsrc={translateUrl(props.sLang, props.tLang, selection)}></iframe>\n\t\t\t</Modal>\n\t\t</div>\n\t);\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tsLang: state.settings.sLang,\n\t\ttLang: state.settings.tLang\n\t};\n}\n\nexport default styled(connect(mapStateToProps, null)(Dictionary)).attrs({\n\toverlayClassName: 'Overlay',\n\tmodalClassName: 'Modal'\n})`\n\t.Overlay {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: rgba(0, 0, 0, 0.2);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: flex-end;\n\t\talign-items: center;\n\t}\n\t.Modal {\n\t\twidth: 100%;\n\t\tmax-width: 500px;\n\t\theight: 45%;\n\t\tposition: absolute;\n\t\tbottom: 0px;\n\t\tbackground-color: #fafafa;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t\tz-index: 12;\n\t\twhite-space: nowrap;\n\t\toverflow-y: auto;\n\t\toverflow-x: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tborder-top-right-radius: 8px;\n\t\tborder-top-left-radius: 8px;\n\t\tpadding-top: 0.5em;\n\t\tpadding-bottom: 0.5em;\n\t\t&:focus {\n\t\t\toutline: none;\n\t\t}\n\t}\n`;\n\nconst Wrapper = styled.div`\n\twidth: 100%;\n\tmin-height: 4em;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\talign-items: flex-start;\n\tpadding: 1em;\n\tborder-bottom: 1px solid rgba(0, 0, 0, 0.25);\n`;\n\nconst Word = styled.p`\n\tfont-family: Roboto;\n\tfont-weight: bold;\n\tfont-size: 1.2em;\n\tcolor: #23286b;\n\tmargin-bottom: 7px;\n`;\n\nconst Meaning = styled.p`\n\tfont-family: Roboto;\n\tfont-size: 1em;\n\tcolor: #0f2439;\n\tmargin-top: 0.5em;\n`;\n\nconst Role = styled.p`\n\tfont-family: Roboto;\n\tfont-style: italic;\n\tfont-size: 0.75em;\n\tcolor: #0f2439;\n`;\n\nconst Message = styled.p`\n\tfont-family: Roboto;\n\tfont-size: 1.25em;\n\tcolor: #0f2439;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 1em;\n`;\n","export const translateUrl = (sl, tl, text) =>\n\t`https://translate.google.com/#view=home&op=translate&sl=${sl}&tl=${tl}&text=${encodeURIComponent(\n\t\ttext\n\t)}`;\n\nexport const languages = [\n\t{ label: 'Afrikaans', value: 'af' },\n\t{ label: 'Albanian', value: 'sq' },\n\t{ label: 'Amharic', value: 'am' },\n\t{ label: 'Arabic', value: 'ar' },\n\t{ label: 'Armenian', value: 'hy' },\n\t{ label: 'Azerbaijani', value: 'az' },\n\t{ label: 'Basque', value: 'eu' },\n\t{ label: 'Belarusian', value: 'be' },\n\t{ label: 'Bengali', value: 'bn' },\n\t{ label: 'Bosnian', value: 'bs' },\n\t{ label: 'Bulgarian', value: 'bg' },\n\t{ label: 'Catalan', value: 'ca' },\n\t{ label: 'Cebuano', value: 'ceb' },\n\t{ label: 'Chinese (Simplified)', value: 'zh-CN' },\n\t{ label: 'Chinese (Traditional)', value: 'zh-TW' },\n\t{ label: 'Corsican', value: 'co' },\n\t{ label: 'Croatian', value: 'hr' },\n\t{ label: 'Czech', value: 'cs' },\n\t{ label: 'Danish', value: 'da' },\n\t{ label: 'Dutch', value: 'nl' },\n\t{ label: 'English', value: 'en' },\n\t{ label: 'Esperanto', value: 'eo' },\n\t{ label: 'Estonian', value: 'et' },\n\t{ label: 'Finnish', value: 'fi' },\n\t{ label: 'French', value: 'fr' },\n\t{ label: 'Frisian', value: 'fy' },\n\t{ label: 'Galician', value: 'gl' },\n\t{ label: 'Georgian', value: 'ka' },\n\t{ label: 'German', value: 'de' },\n\t{ label: 'Greek', value: 'el' },\n\t{ label: 'Gujarati', value: 'gu' },\n\t{ label: 'Haitian Creole', value: 'ht' },\n\t{ label: 'Hausa', value: 'ha' },\n\t{ label: 'Hawaiian', value: 'haw' },\n\t{ label: 'Hebrew', value: 'iw' },\n\t{ label: 'Hindi', value: 'hi' },\n\t{ label: 'Hmong', value: 'hmn' },\n\t{ label: 'Hungarian', value: 'hu' },\n\t{ label: 'Icelandic', value: 'is' },\n\t{ label: 'Igbo', value: 'ig' },\n\t{ label: 'Indonesian', value: 'id' },\n\t{ label: 'Irish', value: 'ga' },\n\t{ label: 'Italian', value: 'it' },\n\t{ label: 'Japanese', value: 'ja' },\n\t{ label: 'Javanese', value: 'jv' },\n\t{ label: 'Kannada', value: 'kn' },\n\t{ label: 'Kazakh', value: 'kk' },\n\t{ label: 'Khmer', value: 'km' },\n\t{ label: 'Kinyarwanda', value: 'rw' },\n\t{ label: 'Korean', value: 'ko' },\n\t{ label: 'Kurdish', value: 'ku' },\n\t{ label: 'Kyrgyz', value: 'ky' },\n\t{ label: 'Lao', value: 'lo' },\n\t{ label: 'Latin', value: 'la' },\n\t{ label: 'Latvian', value: 'lv' },\n\t{ label: 'Lithuanian', value: 'lt' },\n\t{ label: 'Luxembourgish', value: 'lb' },\n\t{ label: 'Macedonian', value: 'mk' },\n\t{ label: 'Malagasy', value: 'mg' },\n\t{ label: 'Malay', value: 'ms' },\n\t{ label: 'Malayalam', value: 'ml' },\n\t{ label: 'Maltese', value: 'mt' },\n\t{ label: 'Maori', value: 'mi' },\n\t{ label: 'Marathi', value: 'mr' },\n\t{ label: 'Mongolian', value: 'mn' },\n\t{ label: 'Myanmar (Burmese)', value: 'my' },\n\t{ label: 'Nepali', value: 'ne' },\n\t{ label: 'Norwegian', value: 'no' },\n\t{ label: 'Odia (Oriya)', value: 'or' },\n\t{ label: 'Pashto', value: 'ps' },\n\t{ label: 'Persian', value: 'fa' },\n\t{ label: 'Polish', value: 'pl' },\n\t{ label: 'Portuguese', value: 'pt' },\n\t{ label: 'Punjabi', value: 'pa' },\n\t{ label: 'Romanian', value: 'ro' },\n\t{ label: 'Russian', value: 'ru' },\n\t{ label: 'Samoan', value: 'sm' },\n\t{ label: 'Scots Gaelic', value: 'gd' },\n\t{ label: 'Serbian', value: 'sr' },\n\t{ label: 'Sesotho', value: 'st' },\n\t{ label: 'Shona', value: 'sn' },\n\t{ label: 'Sindhi', value: 'sd' },\n\t{ label: 'Sinhalese', value: 'si' },\n\t{ label: 'Slovak', value: 'sk' },\n\t{ label: 'Slovenian', value: 'sl' },\n\t{ label: 'Somali', value: 'so' },\n\t{ label: 'Spanish', value: 'es' },\n\t{ label: 'Sundanese', value: 'su' },\n\t{ label: 'Swahili', value: 'sw' },\n\t{ label: 'Swedish', value: 'sv' },\n\t{ label: 'Tagalog', value: 'tl' },\n\t{ label: 'Tajik', value: 'tg' },\n\t{ label: 'Tamil', value: 'ta' },\n\t{ label: 'Tatar', value: 'tt' },\n\t{ label: 'Telugu', value: 'te' },\n\t{ label: 'Thai', value: 'th' },\n\t{ label: 'Turkish', value: 'tr' },\n\t{ label: 'Turkmen', value: 'tk' },\n\t{ label: 'Ukrainian', value: 'uk' },\n\t{ label: 'Urdu', value: 'ur' },\n\t{ label: 'Uyghur', value: 'ug' },\n\t{ label: 'Uzbek', value: 'uz' },\n\t{ label: 'Vietnamese', value: 'vi' },\n\t{ label: 'Welsh', value: 'cy' },\n\t{ label: 'Xhosa', value: 'xh' },\n\t{ label: 'Yiddish', value: 'yi' },\n\t{ label: 'Yoruba', value: 'yo' },\n\t{ label: 'Zulu', value: 'zu' }\n];\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5 c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z \"\n}));\n\nvar SvgNext = function SvgNext(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 477.175 477.175\",\n    style: {\n      enableBackground: \"new 0 0 477.175 477.175\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgNext, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/next.9cc62483.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { ReactComponent as Next } from '../../assets/icons/next.svg';\n\nfunction NextButton(props) {\n\tfunction goNext(e) {\n\t\te.preventDefault();\n\t\tprops.rendition.next();\n\t}\n\n\treturn (\n\t\t<NextIcon\n\t\t\tonClick={goNext}\n\t\t\tfill={props.foreground}\n\t\t\tstroke={props.foreground}\n\t\t\tstrokeWidth={12}\n\t\t/>\n\t);\n}\n\nfunction mapStateToProps(state) {\n\treturn { foreground: state.settings.fg };\n}\n\nexport default connect(mapStateToProps, null)(NextButton);\n\nconst NextIcon = styled(Next)`\n\theight: 0.9em;\n\twidth: 0.9em;\n\tpadding: 0.2em;\n\tborder-radius: 1em;\n\tposition: absolute;\n\tbottom: 0.75em;\n\tright: 0.75em;\n\tcursor: pointer;\n\tz-index: 10;\n`;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225 c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"\n}));\n\nvar SvgPrev = function SvgPrev(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 477.175 477.175\",\n    style: {\n      enableBackground: \"new 0 0 477.175 477.175\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPrev, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/prev.4c53e436.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { ReactComponent as Prev } from '../../assets/icons/prev.svg';\n\nfunction PrevButton(props) {\n\tfunction goNext(e) {\n\t\te.preventDefault();\n\t\tprops.rendition.prev();\n\t}\n\n\treturn (\n\t\t<PrevIcon\n\t\t\tonClick={goNext}\n\t\t\tfill={props.foreground}\n\t\t\tstroke={props.foreground}\n\t\t\tstrokeWidth={12}\n\t\t/>\n\t);\n}\n\nfunction mapStateToProps(state) {\n\treturn { foreground: state.settings.fg };\n}\n\nexport default connect(mapStateToProps, null)(PrevButton);\n\nconst PrevIcon = styled(Prev)`\n\theight: 0.9em;\n\twidth: 0.9em;\n\tpadding: 0.2em;\n\tborder-radius: 1em;\n\tposition: absolute;\n\tbottom: 0.75em;\n\tleft: 0.75em;\n\tcursor: pointer;\n\tz-index: 10;\n`;\n","import { store } from '../store';\n\nlet styles = {\n\tbody: {\n\t\tbackground: '#fafafa',\n\t\tcolor: '#121212',\n\t\t'font-family': 'Default',\n\t\t'font-size': '100%',\n\t\t'line-height': 'normal'\n\t},\n\tp: {\n\t\tcolor: '#ffffff',\n\t\t'font-family': 'Default',\n\t\t'font-size': '100%',\n\t\t'line-height': 'normal'\n\t},\n\tli: {\n\t\tcolor: '#ffffff',\n\t\t'font-family': 'Default',\n\t\t'font-size': '100%',\n\t\t'line-height': 'normal'\n\t},\n\th1: {\n\t\tcolor: '#ffffff'\n\t}\n};\n\nexport default function (theme) {\n\tlet fgColor = lightOrDark(theme.bg) === 'light' ? '#000000' : '#ffffff';\n\n\tstyles.body = {\n\t\tbackground: theme.bg,\n\t\tcolor: fgColor,\n\t\t'font-family': theme.font,\n\t\t'font-size': theme.size,\n\t\t'line-height': theme.height\n\t};\n\tstyles.p = {\n\t\tcolor: fgColor,\n\t\t'font-family': theme.font,\n\t\t'font-size': theme.size,\n\t\t'line-height': theme.height\n\t};\n\tstyles.li = {\n\t\tcolor: fgColor,\n\t\t'font-family': theme.font,\n\t\t'font-size': theme.size,\n\t\t'line-height': theme.height\n\t};\n\tstyles.h1.color = fgColor;\n\n\tif (store.getState().settings.fg !== fgColor) {\n\t\tstore.dispatch({ type: 'modify_settings', payload: { fg: fgColor } });\n\t}\n\n\treturn styles;\n}\n\nfunction lightOrDark(color) {\n\tlet r, g, b, hsp;\n\n\t// check if color is rgba or hex\n\tif (color.match(/^rgb/)) {\n\t\tcolor = color.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/);\n\t\tr = color[1];\n\t\tg = color[2];\n\t\tb = color[3];\n\t} else {\n\t\tcolor = +('0x' + color.slice(1).replace(color.length < 5 && /./g, '$&$&'));\n\t\tr = color >> 16;\n\t\tg = (color >> 8) & 255;\n\t\tb = color & 255;\n\t}\n\n\t// check if color is light or dark\n\thsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b));\n\treturn hsp > 127.5 ? 'light' : 'dark';\n}\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Epub from 'epubjs/lib/index';\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport Drawer from '../components/Drawer';\nimport Header from '../components/Header';\nimport Dictionary from '../components/Dictionary';\nimport NextButton from '../components/buttons/NextButton';\nimport PrevButton from '../components/buttons/PrevButton';\nimport themeToStyles from '../utils/themeToStyles';\n\nfunction Reader(props) {\n\tconst [bookState, setBookState] = useState(null);\n\tconst [rendition, setRendition] = useState(null);\n\tconst [isContentDrawer, setContentDrawer] = useState(false);\n\tconst [contents, setContents] = useState(null);\n\n\tuseEffect(readFile, []);\n\tuseEffect(() => {\n\t\tif (rendition) {\n\t\t\trendition.themes.register({ theme: themeToStyles(props.settings) });\n\t\t\trendition.themes.select('theme');\n\t\t\trendition.getContents().forEach(getFonts);\n\t\t}\n\t}, [props.settings]);\n\n\tfunction readFile() {\n\t\tconst file = new FileReader();\n\t\tfile.onload = function () {\n\t\t\tbookInit(file.result);\n\t\t};\n\t\tfile.readAsArrayBuffer(props.currentBook);\n\t}\n\n\tfunction getFonts(content) {\n\t\tlet el = content.document.body.appendChild(content.document.createElement('link'));\n\t\tel.setAttribute('rel', 'stylesheet');\n\t\tel.setAttribute(\n\t\t\t'href',\n\t\t\t'https://fonts.googleapis.com/css2?family=Baskervville:ital@0;1&family=EB+Garamond:ital@0;1&family=Libre+Caslon+Text:ital@0;1&family=Lora:ital@0;1&family=Pacifico&family=Poppins&family=Raleway:ital@0;1&family=Roboto:ital@0;1&family=Special+Elite&display=swap'\n\t\t);\n\t}\n\n\tfunction bookInit(bookData) {\n\t\tlet book = Epub(bookData, { encoding: 'binary' });\n\t\tlet rend = book.renderTo(document.getElementById('reader'), {\n\t\t\twidth: '100%',\n\t\t\theight: '97%'\n\t\t});\n\n\t\trend.on('started', () => {\n\t\t\trend.display(props.locations[book.key()]);\n\t\t\trend.themes.register({ theme: themeToStyles(props.settings) });\n\t\t\trend.themes.select('theme');\n\t\t\tsetTimeout(() => rend.getContents().forEach(getFonts), 200);\n\t\t});\n\n\t\tbook.loaded.navigation.then((nav) => {\n\t\t\tlet c = nav.toc.map(({ href, label }) => {\n\t\t\t\treturn { href, label };\n\t\t\t});\n\t\t\tsetContents(c);\n\t\t});\n\n\t\tdocument.body.addEventListener('keydown', (e) => {\n\t\t\tif (e.key === 'ArrowRight') {\n\t\t\t\t// console.log(rend.location);\n\t\t\t\trend.next();\n\t\t\t} else if (e.key === 'ArrowLeft') {\n\t\t\t\trend.prev();\n\t\t\t}\n\t\t});\n\n\t\trend.on('relocated', (e) => {\n\t\t\tprops.addLocation({ key: book.key(), cfi: e.start.cfi });\n\t\t});\n\n\t\t// rend.on('selected', () => {\n\t\t// \tlet selection =\n\t\t// \t\trend.manager && rend.manager.getContents().length > 0\n\t\t// \t\t\t? rend.manager.getContents()[0].window.getSelection().toString().trim()\n\t\t// \t\t\t: '';\n\t\t// });\n\t\tsetBookState(book);\n\t\tsetRendition(rend);\n\t}\n\n\treturn (\n\t\t<Wrapper bg={props.settings.bg}>\n\t\t\t<Header isVisible={isContentDrawer} setVisible={setContentDrawer} />\n\t\t\t<ReaderView id=\"reader\" />\n\t\t\t<Drawer\n\t\t\t\tisVisible={isContentDrawer}\n\t\t\t\tsetVisible={setContentDrawer}\n\t\t\t\tbook={bookState}\n\t\t\t\tcontents={contents}\n\t\t\t\trendition={rendition}\n\t\t\t/>\n\t\t\t<Dictionary rendition={rendition} />\n\t\t\t<NextButton rendition={rendition} />\n\t\t\t<PrevButton rendition={rendition} />\n\t\t</Wrapper>\n\t);\n}\n\nfunction mapStateToProps(state) {\n\treturn {\n\t\tcurrentBook: state.book,\n\t\tsettings: state.settings,\n\t\tlocations: state.location\n\t};\n}\n\nexport default connect(mapStateToProps, actions)(Reader);\n\nconst Wrapper = styled.div`\n\theight: 100vh;\n\twidth: 100vw;\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: 0px;\n\tbackground-color: ${(props) => props.bg};\n`;\n\nconst ReaderView = styled.div`\n\tdisplay: flex;\n\tflex: 1;\n\tmargin: 0px;\n`;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Home from '../pages/Home';\nimport Reader from '../pages/Reader';\n\nfunction Router(props) {\n\tswitch (props.currentPage) {\n\t\tcase 'home':\n\t\t\treturn <Home />;\n\t\tcase 'reader':\n\t\t\treturn <Reader />;\n\t\tdefault:\n\t\t\treturn <Home />;\n\t}\n}\n\nfunction mapStateToProps(state) {\n\treturn { currentPage: state.routes };\n}\n\nexport default connect(mapStateToProps, null)(Router);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { store, persistor } from './store';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport Router from './components/Router';\n\nfunction App() {\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<PersistGate persistor={persistor}>\n\t\t\t\t<Router />\n\t\t\t</PersistGate>\n\t\t</Provider>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}